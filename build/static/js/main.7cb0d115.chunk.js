(this["webpackJsonpfirebase-react-auth"]=this["webpackJsonpfirebase-react-auth"]||[]).push([[0],{75:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),l=a.n(c),u=a(85),o=a(19),s=a(50),i=a.n(s),m=(a(68),i.a.initializeApp({apiKey:"AIzaSyAfG_OpX5v_gTq-xCPklDuF08RPwYNMlAA",authDomain:"first-9b050.firebaseapp.com",databaseURL:"https://first-9b050-default-rtdb.firebaseio.com",projectId:"first-9b050",storageBucket:"first-9b050.appspot.com",messagingSenderId:"1053812019885",appId:"1:1053812019885:web:f192f1afccdc974b33ec24"})),p=m.auth(),d=r.a.createContext();function f(){return Object(n.useContext)(d)}function b(e){var t=e.children,a=Object(n.useState)(),c=Object(o.a)(a,2),l=c[0],u=c[1],s=Object(n.useState)(!0),i=Object(o.a)(s,2),m=i[0],f=i[1];Object(n.useEffect)((function(){return p.onAuthStateChanged((function(e){u(e),f(!1)}))}),[]);var b={currentUser:l,login:function(e,t){return p.signInWithEmailAndPassword(e,t)},logout:function(){return p.signOut()},resetPassword:function(e){return p.sendPasswordResetEmail(e)},updateEmail:function(e){return l.updateEmail(e)},updatePassword:function(e){return l.updatePassword(e)}};return r.a.createElement(d.Provider,{value:b},!m&&t)}var E=a(24),v=a(6),h=a(28),g=a.n(h),O=a(32),j=a(84),w=a(56);a(75);function y(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useRef)(),l=Object(n.useState)(""),u=Object(o.a)(l,2),s=(u[0],u[1]),i=f(),m=(i.currentUser,i.logout),p=Object(v.g)();function d(){return(d=Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(""),e.prev=1,e.next=4,m();case 4:p.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),s("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){return null==c.current&&(c.current=Object(w.a)("ws://130.162.44.9:5000",{transports:["websocket"]})),c.current.on("addLog",(function(e){var t=document.createElement("li");t.textContent=e,a.current.appendChild(t)})),c.current.on("downloadLink",(function(t){var a;a=t,e.current.href=encodeURIComponent(a),e.current.style.display="block",e.current.innerHTML="download "+a,e.current.click(),console.log(t)})),function(){console.log("xd")}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"",onSubmit:function(e){e.preventDefault(),c.current.emit("submit",t.current.value),t.current.value=""}},r.a.createElement("input",{size:"33",ref:t,autoFocus:!0}),r.a.createElement("button",null,"Submit")),r.a.createElement("a",{download:"",ref:e,style:{display:"none"}}," download"),r.a.createElement("ul",{ref:a,style:{listStyleType:"none",fontSize:"10px",left:"5px"}}),r.a.createElement("div",{className:"w-auto text-center mt-2"},r.a.createElement(j.a,{variant:"link",onClick:function(){return d.apply(this,arguments)}},"Log Out")))}var k=a(88),x=a(87),S=a(86),C=(a(80),a(59));function L(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),c=f().login,l=Object(n.useState)(""),u=Object(o.a)(l,2),s=u[0],i=u[1],m=Object(n.useState)(!0),p=Object(o.a)(m,2),d=p[0],b=p[1],E=Object(v.g)();function h(){return(h=Object(O.a)(g.a.mark((function n(r){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),!t.current.getValue()){n.next=14;break}return n.prev=2,i(""),b(!0),n.next=7,c(e.current.value,a.current.value);case 7:E.push("/"),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(2),i("Failed to log in"),t.current.reset();case 14:case"end":return n.stop()}}),n,null,[[2,10]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,null,r.a.createElement(k.a.Body,null,r.a.createElement("h2",{className:"text-center mb-4"},"Log In"),s&&r.a.createElement(x.a,{variant:"danger"},s),r.a.createElement(S.a,{onSubmit:function(e){return h.apply(this,arguments)}},r.a.createElement(S.a.Group,{id:"email"},r.a.createElement(S.a.Label,null,"Email"),r.a.createElement(S.a.Control,{type:"email",ref:e,required:!0})),r.a.createElement(S.a.Group,{id:"password"},r.a.createElement(S.a.Label,null,"Password"),r.a.createElement(S.a.Control,{type:"password",ref:a,required:!0}),r.a.createElement(C.a,{sitekey:"6LeEwFkdAAAAABo3kG_gyXXAgbzWw17l0iKo60cD",ref:t,onChange:function(){t.current.getValue()?b(!1):b(!0)}}),","),r.a.createElement(j.a,{disabled:d,className:"w-100",type:"submit"},"Log In")))))}var P=a(60),R=["component"];function A(e){var t=e.component,a=Object(P.a)(e,R),n=f().currentUser;return r.a.createElement(v.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(v.a,{to:"/login"})}}))}function N(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),c=f(),l=c.currentUser,u=c.updatePassword,s=c.updateEmail,i=Object(n.useState)(""),m=Object(o.a)(i,2),p=m[0],d=m[1],b=Object(n.useState)(!1),h=Object(o.a)(b,2),g=h[0],O=h[1],w=Object(v.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,null,r.a.createElement(k.a.Body,null,r.a.createElement("h2",{className:"text-center mb-4"},"Update Profile"),p&&r.a.createElement(x.a,{variant:"danger"},p),r.a.createElement(S.a,{onSubmit:function(n){if(n.preventDefault(),t.current.value!==a.current.value)return d("Passwords do not match");var r=[];O(!0),d(""),e.current.value!==l.email&&r.push(s(e.current.value)),t.current.value&&r.push(u(t.current.value)),Promise.all(r).then((function(){w.push("/")})).catch((function(){d("Failed to update account")})).finally((function(){O(!1)}))}},r.a.createElement(S.a.Group,{id:"email"},r.a.createElement(S.a.Label,null,"Email"),r.a.createElement(S.a.Control,{type:"email",ref:e,required:!0,defaultValue:l.email})),r.a.createElement(S.a.Group,{id:"password"},r.a.createElement(S.a.Label,null,"Password"),r.a.createElement(S.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})),r.a.createElement(S.a.Group,{id:"password-confirm"},r.a.createElement(S.a.Label,null,"Password Confirmation"),r.a.createElement(S.a.Control,{type:"password",ref:a,placeholder:"Leave blank to keep the same"})),r.a.createElement(j.a,{disabled:g,className:"w-100",type:"submit"},"Update")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},r.a.createElement(E.b,{to:"/"},"Cancel")))}var F=function(){return r.a.createElement(u.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"}},r.a.createElement("div",{className:"w-100",style:{maxWidth:"400px"}},r.a.createElement(E.a,null,r.a.createElement(b,null,r.a.createElement(v.d,null,r.a.createElement(A,{exact:!0,path:"/",component:y}),r.a.createElement(A,{path:"/update-profile",component:N}),r.a.createElement(v.b,{path:"/login",component:L}))))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.7cb0d115.chunk.js.map